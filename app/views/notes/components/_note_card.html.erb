<div data-controller="note-click" class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:border-green-500 dark:hover:border-green-500 hover:shadow-md transition-all duration-200 group cursor-pointer">
  <div class="p-5" data-action="click->note-click#visit" data-note-click-url="<%= note_path(note) %>">
    <%= render 'notes/components/note_meta', note: note %>

    <h2 class="text-lg font-semibold mt-2 group-hover:text-green-600 dark:group-hover:text-green-500 line-clamp-1">
      <%= note.title %>
    </h2>
    <p class="text-sm mt-2 text-gray-600 dark:text-gray-300 line-clamp-3">
      <%= sanitize(truncate(note.transcription.to_plain_text, length: 170)) %>
    </p>
    
    <div class="mt-3 text-xs text-gray-500 dark:text-gray-400 flex items-center">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4 mr-1">
        <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
      <% if note.updated_at > note.created_at + 1.minute %>
        Updated <%= time_ago_in_words(note.updated_at) %> ago
      <% else %>
        Created <%= time_ago_in_words(note.created_at) %> ago
      <% end %>
    </div>
  </div>
</div>